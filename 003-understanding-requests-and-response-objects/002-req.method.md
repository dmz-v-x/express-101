## What is req.method

### 1. What Is an HTTP Request Method? 

Whenever a client (browser, mobile app, Postman, curl) talks to a server, it must answer one simple question:

**‚ÄúWhat do you want to do?‚Äù**

That answer is called the **HTTP method**.

In very simple words:

- **HTTP method = the action the client wants the server to perform**

Examples:

- GET ‚Üí ‚ÄúGive me something‚Äù
- POST ‚Üí ‚ÄúCreate something‚Äù
- PUT ‚Üí ‚ÄúUpdate something‚Äù
- DELETE ‚Üí ‚ÄúRemove something‚Äù

Every HTTP request **must** have a method.

---

### 2. Why Do HTTP Methods Exist?

Imagine if methods did not exist.

Client says:

- `/users`

Server thinks:

- ‚ÄúDo you want all users?‚Äù
- ‚ÄúDo you want to create a user?‚Äù
- ‚ÄúDo you want to delete users?‚Äù

‚ùå Confusion.

HTTP methods remove this confusion.

Same URL, different intent:

- GET  /users   ‚Üí fetch users
- POST /users  ‚Üí create a new user
- PUT  /users  ‚Üí update users
- DELETE /users ‚Üí delete users

üëâ **Path tells WHERE, method tells WHAT**

---

### 3. The Most Common HTTP Methods

You will see these everywhere:

- GET  
  - Read data
  - Fetch something
  - Safe (does not change server state)

- POST  
  - Create new data
  - Send data to server

- PUT  
  - Update existing data (usually full update)

- PATCH  
  - Update part of existing data

- DELETE  
  - Remove data

For beginners, focus on:

- GET
- POST
- PUT
- DELETE

---

### 4. Real-World Analogy 

Think of a restaurant menu system:

- GET ‚Üí ‚ÄúShow me the menu‚Äù
- POST ‚Üí ‚ÄúPlace a new order‚Äù
- PUT ‚Üí ‚ÄúUpdate my order‚Äù
- DELETE ‚Üí ‚ÄúCancel my order‚Äù

Same counter (URL), different actions (methods).

---

### 5. Where Does `req.method` Come From?

In Express, every route receives two objects:

- req ‚Üí request
- res ‚Üí response

The HTTP method used by the client is stored here:

- `req.method`

Express reads the incoming HTTP request and extracts:

- Method
- URL
- Headers
- Body

Then it exposes them to you via `req`.

---

### 6. First Look at `req.method` 

Example Express route:

    app.get("/", (req, res) => {
      console.log(req.method);
      res.send("Check terminal");
    });

Now:

1. Start the server
2. Open browser: http://localhost:3000
3. Look at the terminal

Output:

    GET

Why?

- Browsers send **GET** requests by default when you open a URL.

---

### 7. Important Beginner Clarification 

`req.method` is:

- A **string**
- Always **uppercase**
- One of the HTTP methods

Examples:

- "GET"
- "POST"
- "PUT"
- "DELETE"

Never lowercase.

---

### 8. How Express Uses Methods Internally

When you write:

    app.get("/", handler)

Express internally does something like:

- If req.method === "GET"
- AND req.path === "/"
- THEN run this handler

That‚Äôs why this works:

    app.post("/", handler)

But this does NOT respond to browser visits:

- Browser sends GET
- Route expects POST
- ‚ùå No match

---

### 9. Same URL, Different Methods

Example:

    app.get("/users", (req, res) => {
      res.send("Get users");
    });

    app.post("/users", (req, res) => {
      res.send("Create user");
    });

Requests:

- GET  /users  ‚Üí "Get users"
- POST /users ‚Üí "Create user"

Same path.
Different method.
Different behavior.

This is the foundation of REST APIs.

---

### 10. Checking Method Manually 

Sometimes you may see code like this:

    app.all("/test", (req, res) => {
      if (req.method === "GET") {
        res.send("GET request");
      } else if (req.method === "POST") {
        res.send("POST request");
      }
    });

This is rare in clean Express apps, but useful to understand:

- `req.method` lets you inspect behavior dynamically
- Express routing usually handles this for you

---

### 11. What Happens If Method Is Wrong?

Example:

- Route defined with `app.post("/login")`
- Browser visits `/login`

Result:

- ‚ùå Cannot GET /login

Why?

- Browser sent GET
- Server only listens for POST

This error is GOOD.
It means your server is strict and correct.

---

### 12. Methods and Safety 

Some methods are considered:

- **Safe** ‚Üí do not change data  
  - GET

- **Unsafe** ‚Üí change server state  
  - POST
  - PUT
  - DELETE
  - PATCH

This matters for:

- Caching
- Security
- Idempotency
- Browser behavior

Example:

- Refreshing a GET page is safe
- Refreshing a POST request may resubmit data

---

### 13. Minimal Mental Model 

If you remember only ONE sentence:

**`req.method` tells you WHAT the client wants to do**

- URL ‚Üí where
- Method ‚Üí action

---
