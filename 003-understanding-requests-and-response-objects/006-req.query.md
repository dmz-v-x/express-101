## What is req.query

### 1. What Is a Query String? 

A **query string** is the part of a URL that comes:

- After the `?`
- Uses `key=value` pairs
- Multiple pairs are separated by `&`

Example URL:

    /products?category=books&price=low

Here:

- `/products` â†’ path
- `?category=books&price=low` â†’ query string

---

### 2. Big Picture Comparison 

| Feature        | URL Params (`req.params`) | Query String (`req.query`) |
|---------------|---------------------------|----------------------------|
| Location      | URL path                  | After `?`                  |
| Mandatory     | Usually yes               | Usually optional            |
| Purpose       | Identify a resource       | Filter / sort / search     |
| Express access| `req.params`              | `req.query`                |

If this table is clear, half your confusion is gone.

---

### 3. First Working Example

Add this route:

    app.get("/products", (req, res) => {
      console.log(req.query);
      res.send("Check terminal");
    });

Open your browser:

    http://localhost:3000/products?category=books&price=low

Terminal output:

    {
      category: 'books',
      price: 'low'
    }

---

### 4. Break This Down VERY Slowly

#### `?`

The `?` tells the browser and server:

- â€œQuery string starts hereâ€

Everything after it is **query data**.

---

#### `key=value`

Example:

    category=books

- Key â†’ `category`
- Value â†’ `books`

---

#### `&`

Separates multiple query pairs:

    category=books&price=low

---

### 5. What Is `req.query`?

`req.query` is:

- An **object**
- Created automatically by Express
- Keys = query parameter names
- Values = query parameter values

Example:

    req.query = {
      category: "books",
      price: "low"
    }

---

### 6. Accessing Individual Query Values

Example:

    app.get("/products", (req, res) => {
      const category = req.query.category;
      const price = req.query.price;

      res.send(`Category: ${category}, Price: ${price}`);
    });

Browser output:

    Category: books, Price: low

---

### 7. Important Beginner Rule

**Query values are ALWAYS strings.**

Even if they look like numbers:

    /products?page=2

    typeof req.query.page // "string"

If you need a number:

    const page = Number(req.query.page);

Or safer:

    const page = parseInt(req.query.page, 10);

---

### 8. Optional Nature of Query Strings 

Query strings are usually **optional**.

These URLs are both valid:

- `/products`
- `/products?category=books`

So you must code defensively:

    const category = req.query.category || "all";

Never assume a query parameter exists.

---

### 9. Query String vs URL Params 

**URL Params**:

    /users/42

- Identifies **one specific resource**

**Query Strings**:

    /users?role=admin

- Filters or modifies **how results are returned**

Rule of thumb:

> **Params = who / which**  
> **Query = how / which filters**

---

### 10. Combining URL Params + Query 

You can use both together.

Example:

    app.get("/users/:id", (req, res) => {
      console.log("PARAMS:", req.params);
      console.log("QUERY:", req.query);
      res.send("Check terminal");
    });

URL:

    /users/42?details=true

Terminal output:

    PARAMS: { id: '42' }
    QUERY: { details: 'true' }

---

### 11. When to Use `req.query` 

Use `req.query` for:

- Filtering  
- Sorting  
- Searching  
- Pagination  
- Feature toggles  

Examples:

- `/products?sort=price`
- `/users?page=2`
- `/search?q=express`

---

### 12. Advanced: Query Parsing Behavior

Express automatically parses query strings into objects.

Example:

    /products?tags=node&tags=express

Results in:

    req.query = {
      tags: ['node', 'express']
    }

This is extremely useful for filters.

---

### 13. Advanced: Boolean Query Values 

Example:

    /users?active=true

Result:

    req.query.active === "true"

âŒ Not boolean  
âœ… Still a string

Convert explicitly:

    const isActive = req.query.active === "true";

---

### 14. Advanced: Security & Validation

Never trust query input.

Example:

    app.get("/products", (req, res) => {
      const page = parseInt(req.query.page, 10) || 1;

      if (page < 1) {
        return res.status(400).send("Invalid page number");
      }

      res.send(`Page: ${page}`);
    });

Always validate and sanitize.

---

### 15. Minimal Mental Model 

If you remember one sentence:

> **`req.query` = optional controls sent via the URL**

Not identity â€” **behavior**.



This is **solid backend foundation** ðŸ’ª
