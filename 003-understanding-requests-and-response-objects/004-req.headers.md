## What is req.headers

### 1. What Are `req.headers`?

Whenever a client (browser, mobile app, Postman, curl) sends a request, it sends **extra information** along with it.

That extra information is called **HTTP headers**.

In Express, all request headers are available here:

- `req.headers`

In very simple words:

> **`req.headers` = metadata about the request**

Not the data itself — but information *about* the data and the client.

---

### 2. Why Do Headers Exist?

Imagine sending a parcel.

You don’t just send the item — you also attach a label:

- Who sent it
- What’s inside
- How fragile it is
- Where it came from

Headers are that **label** for HTTP requests.

Without headers:

- Server wouldn’t know how to read data
- Authentication would be impossible
- APIs would break

---

### 3. Big Picture Mental Model

Every HTTP request looks like this:

    REQUEST  
    │  
    ├── Method   → what to do  
    ├── URL      → where to go  
    ├── Headers  → extra info (important!)  
    └── Body     → actual data  

So:

- Body = content  
- Headers = instructions + context  

---

### 4. What Does `req.headers` Look Like?

Try this code:

    app.get("/", (req, res) => {
      console.log(req.headers);
      res.send("Check terminal");
    });

Now open:

    http://localhost:3000

You’ll see a **big object** printed in the terminal.

That object is:

- `req.headers`

---

### 5. Important Beginner Clarification 

`req.headers` is:

- An **object**
- With **key–value pairs**
- Created fresh **for every request**

Example shape:

    {
      host: 'localhost:3000',
      'user-agent': 'Mozilla/5.0 ...',
      accept: 'text/html',
      connection: 'keep-alive'
    }

Each key is a **header name**  
Each value is the **header value**

---

### 6. Headers Are Case-Insensitive

These are ALL the same:

- `User-Agent`
- `user-agent`
- `USER-AGENT`

In Express:

- Header names are usually **lowercased**

So you access them like this:

    req.headers["user-agent"]

---

### 7. Common Important Headers 

Let’s understand the most common ones.

---

#### `User-Agent`

Example:

    Mozilla/5.0 (Windows NT 10.0; Win64; x64)...

Meaning:

- Tells the server **what software** is making the request
- Browser, OS, device info

Used for:

- Analytics
- Browser compatibility
- Security rules

---

#### `Accept`

Example:

    application/json

Meaning:

- Tells the server **what formats** the client can handle

Common values:

- `text/html` → web pages
- `application/json` → APIs
- `*/*` → anything

---

#### `Content-Type`

Example:

    application/json

Meaning:

- Tells the server **what format the request body is in**

Critical for:

- POST
- PUT
- PATCH requests

Without it:

- Server won’t know how to parse the body

---

### 8. Real POST Request 

Example raw request:

    POST /api/users HTTP/1.1
    Host: example.com
    User-Agent: Chrome
    Accept: application/json
    Content-Type: application/json
    Content-Length: 42

    {
      "name": "Alice",
      "age": 25
    }

Breakdown:

- Request line → method + path
- Headers → instructions & metadata
- Blank line → separates headers from body
- Body → actual data

---

### 9. Accessing Specific Headers in Express

Example:

    app.get("/", (req, res) => {
      console.log(req.headers["accept"]);
      res.send("Check terminal");
    });

This prints:

- What formats the client accepts

You can access any header this way.

---

### 10. Why Headers Matter in Real Applications

Headers power **real-world features**:

- Authentication  
  - `Authorization: Bearer <token>`

- APIs  
  - `Content-Type: application/json`

- Security  
  - CSRF tokens
  - CORS headers

- Localization  
  - `Accept-Language: en-US`

- Caching  
  - `Cache-Control`

Without headers:

- Modern web apps would not work

---

### 11. Very Important Beginner Rule 

Headers are:

- ✅ Sent by the client
- ✅ Read by the server
- ❌ Mostly **read-only** on `req`

You **do not modify** request headers.

If you want to send headers back:

- You use `res.set()` or `res.header()`

---

### 12. Common Beginner Mistakes 

❌ Expecting headers to contain user data  
❌ Modifying `req.headers`  
❌ Forgetting `Content-Type` in POST requests  
❌ Assuming headers are optional  

Headers are **not optional** — they are fundamental.

---

### 13. Advanced Awareness 

Some advanced concepts powered by headers:

- CORS (cross-origin rules)
- Cookies (sent via headers)
- Proxies and load balancers
- API versioning
- Rate limiting
- Security policies

All of these depend heavily on headers.

---

### 14. Minimal Mental Model (Lock This In)

If you remember only one sentence:

> **`req.headers` = context and instructions about the request**

Not data — but **how to handle the data**.


